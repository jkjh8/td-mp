(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28715dd2"],{"0fd9":function(e,t,n){"use strict";n("99af"),n("4160"),n("caad"),n("13d5"),n("4ec9"),n("b64b"),n("d3b7"),n("ac1f"),n("2532"),n("3ca3"),n("5319"),n("159b"),n("ddb0");var a=n("ade3"),i=n("5530"),r=(n("4b85"),n("2b0e")),l=n("d9f7"),o=n("80d2"),s=["sm","md","lg","xl"],c=["start","end","center"];function u(e,t){return s.reduce((function(n,a){return n[e+Object(o["G"])(a)]=t(),n}),{})}var d=function(e){return[].concat(c,["baseline","stretch"]).includes(e)},p=u("align",(function(){return{type:String,default:null,validator:d}})),f=function(e){return[].concat(c,["space-between","space-around"]).includes(e)},h=u("justify",(function(){return{type:String,default:null,validator:f}})),v=function(e){return[].concat(c,["space-between","space-around","stretch"]).includes(e)},g=u("alignContent",(function(){return{type:String,default:null,validator:v}})),m={align:Object.keys(p),justify:Object.keys(h),alignContent:Object.keys(g)},b={align:"align",justify:"justify",alignContent:"align-content"};function y(e,t,n){var a=b[e];if(null!=n){if(t){var i=t.replace(e,"");a+="-".concat(i)}return a+="-".concat(n),a.toLowerCase()}}var x=new Map;t["a"]=r["a"].extend({name:"v-row",functional:!0,props:Object(i["a"])(Object(i["a"])(Object(i["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d}},p),{},{justify:{type:String,default:null,validator:f}},h),{},{alignContent:{type:String,default:null,validator:v}},g),render:function(e,t){var n=t.props,i=t.data,r=t.children,o="";for(var s in n)o+=String(n[s]);var c=x.get(o);return c||function(){var e,t;for(t in c=[],m)m[t].forEach((function(e){var a=n[e],i=y(t,e,a);i&&c.push(i)}));c.push((e={"no-gutters":n.noGutters,"row--dense":n.dense},Object(a["a"])(e,"align-".concat(n.align),n.align),Object(a["a"])(e,"justify-".concat(n.justify),n.justify),Object(a["a"])(e,"align-content-".concat(n.alignContent),n.alignContent),e)),x.set(o,c)}(),e(n.tag,Object(l["a"])(i,{staticClass:"row",class:c}),r)}})},2677:function(e,t,n){"use strict";var a=n("8654");t["a"]=a["a"]},5803:function(e,t,n){},"66b0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[n("v-card-title",[n("h4",[e._v("FILE LIST")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.filelistRefrash}},[n("v-icon",[e._v("mdi-reload")])],1),n("v-btn",{attrs:{icon:""},on:{click:e.deleteFiles}},[n("v-icon",[e._v("mdi-delete")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.uploadDialog=!e.uploadDialog}}},[n("v-icon",[e._v("mdi-plus-circle-outline")])],1)],1),n("v-divider"),n("v-card-text",[n("FilelistTable",{ref:"filelistTable"}),n("v-dialog",{attrs:{"max-width":"600px",height:"300px",persistent:""},model:{value:e.uploadDialog,callback:function(t){e.uploadDialog=t},expression:"uploadDialog"}},[n("FileUpload",{on:{closeUpload:function(t){e.uploadDialog=!e.uploadDialog}}})],1)],1)],1)],1)},i=[],r=(n("96cf"),n("1da1")),l=n("9391"),o=n("7444"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-spacer"),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{staticClass:"pt-0 mt-0",attrs:{"append-icon":"mdi-magnify",label:"search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),n("v-data-table",{attrs:{headers:e.headers,items:e.filelist,search:e.search,"item-key":"name","show-select":""},scopedSlots:e._u([{key:"item.duration",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.times(n.duration))+" ")]}},{key:"item.size",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.bytes(n.size))+" ")]}},{key:"item.preview",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.preview(a.name)}}},[n("v-icon",{attrs:{color:"green"}},[e._v(" mdi-play ")])],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),n("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.previewDialog,callback:function(t){e.previewDialog=t},expression:"previewDialog"}},[n("Preview",{attrs:{"video-source":e.videoSource}})],1)],1)},c=[],u=(n("99af"),n("db61")),d={components:{Preview:u["a"]},mixins:[l["a"],o["a"]],data:function(){return{previewDialog:!1,videoSource:"",search:"",selected:[],headers:[{text:"Name",value:"name"},{text:"Type",value:"type"},{text:"Length",value:"duration"},{text:"Size",value:"size"},{text:"Preview",value:"preview"}]}},created:function(){this.getFilelist()},methods:{resetSelected:function(){this.selected=[]},delete:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.selected,0!==n.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.$axios.post("/api/filelist/del",n);case 5:a=t.sent,i=a.data,e.$store.dispatch("filelist/updateFilelist",i),e.resetSelected();case 9:case"end":return t.stop()}}),t)})))()},preview:function(e){this.previewDialog=!0,this.videoSource={width:800,autoplay:!0,sources:[{type:"video/mp4",src:"http://".concat(window.location.hostname,":3000/api/filelist/preview/").concat(e)}]}}}},p=d,f=n("2877"),h=n("6544"),v=n.n(h),g=n("8336"),m=n("62ad"),b=n("a523"),y=n("8fea"),x=n("169a"),w=n("132d"),V=n("0fd9"),S=n("2fa4"),C=n("8654"),j=Object(f["a"])(p,s,c,!1,null,null,null),k=j.exports;v()(j,{VBtn:g["a"],VCol:m["a"],VContainer:b["a"],VDataTable:y["a"],VDialog:x["a"],VIcon:w["a"],VRow:V["a"],VSpacer:S["a"],VTextField:C["a"]});var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[n("v-card-title",{staticClass:"grey lighten-4"},[n("h4",[e._v("FILE UPLOAD")])]),n("v-card-text",[n("v-file-input",{attrs:{placeholder:"Upload your files",label:"Select Files",multiple:"","prepend-icon":"mdi-paperclip"},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.text;return[n("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(a)+" ")])]}}]),model:{value:e.selectedFiles,callback:function(t){e.selectedFiles=t},expression:"selectedFiles"}})],1),n("v-card-actions",{staticClass:"grey lighten-4"},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.uploadFiles}},[n("v-icon",[e._v("mdi-check")])],1),n("v-btn",{staticClass:"pa-3",attrs:{icon:""},on:{click:e.close}},[n("v-icon",[e._v("mdi-cancel")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"600px",persistent:""},model:{value:e.uploadDialog,callback:function(t){e.uploadDialog=t},expression:"uploadDialog"}},[n("ProgressPopup",{attrs:{"upload-file-index":e.uploadFileIndex,"upload-file-name":e.uploadFileName,"progress-value":e.progressValue}})],1)],1)},F=[],D=(n("b0c0"),n("d4ec")),_=n("bee2"),$=n("bc3a"),I=n.n($),z=function(){function e(){Object(D["a"])(this,e)}return Object(_["a"])(e,[{key:"upload",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("file",t),e.next=4,I.a.post("/api/filelist/upload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),T=new z,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v(" UPLOADING ")]),n("v-card-text",[n("v-container",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{size:"150",width:"10",color:"primary",indeterminate:""}},[e._v(" "+e._s(e.uploadFileIndex)+" ")])],1),n("v-card-actions",[n("v-container",[e._v(" "+e._s(e.uploadFileName+" "+e.progressValue+"%")+" ")])],1)],1)],1)},B=[],N=(n("a9e3"),{props:{uploadFileIndex:{type:String,default:null},uploadFileName:{type:String,default:null},progressValue:{type:Number,default:null}}}),R=N,L=n("b0af"),A=n("99d9"),E=n("490a"),U=Object(f["a"])(R,P,B,!1,null,null,null),M=U.exports;v()(U,{VCard:L["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VContainer:b["a"],VProgressCircular:E["a"]});var G={components:{ProgressPopup:M},props:{dialog:Boolean},data:function(){return{selectedFiles:[],uploadFileIndex:"",uploadFileName:"",progressValue:0,uploadDialog:!1}},methods:{close:function(){this.selectedFiles=[],this.$emit("closeUpload")},uploadFiles:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$emit("closeUpload"),n=e.selectedFiles,0!==n.length){t.next=4;break}return t.abrupt("return");case 4:e.uploadDialog=!0,a=0;case 6:if(!(a<n.length)){t.next=14;break}return e.uploadFileName=n[a].name,e.uploadFileIndex=a+1+"/"+n.length,t.next=11,e.fileuploadservice(a,n[a]);case 11:a++,t.next=6;break;case 14:return e.uploadDialog=!1,e.selectedFiles=[],t.next=18,e.$axios.get("/api/filelist/refrash");case 18:i=t.sent,r=i.data,e.$store.dispatch("filelist/updateFilelist",r);case 21:case"end":return t.stop()}}),t)})))()},fileuploadservice:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.upload(t,(function(e){n.progressValue=Math.round(100*e.loaded/e.total)}));case 2:case"end":return e.stop()}}),e)})))()}}},H=G,J=n("cc20"),K=(n("a623"),n("4160"),n("caad"),n("d81d"),n("13d5"),n("fb6a"),n("a434"),n("159b"),n("2909")),W=n("5530"),q=n("53ca"),Q=(n("5803"),n("2677")),X=n("80d2"),Y=n("d9bd"),Z=n("d9f7"),ee=Q["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(e){return"boolean"===typeof e||[1e3,1024].includes(e)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(e){return Object(X["H"])(e).every((function(e){return null!=e&&"object"===Object(q["a"])(e)}))}}},computed:{classes:function(){return Object(W["a"])(Object(W["a"])({},Q["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var e=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);var t=this.internalArrayValue.reduce((function(e,t){var n=t.size,a=void 0===n?0:n;return e+a}),0);return this.$vuetify.lang.t(this.counterSizeString,e,Object(X["w"])(t,1024===this.base))},internalArrayValue:function(){return Object(X["H"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var e=this;return this.isDirty?this.internalArrayValue.map((function(t){var n=t.name,a=void 0===n?"":n,i=t.size,r=void 0===i?0:i,l=e.truncateText(a);return e.showSize?"".concat(l," (").concat(Object(X["w"])(r,1024===e.base),")"):l})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(e){!0===e&&Object(Y["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(e){var t=this.isMultiple?e:e?[e]:[];Object(X["j"])(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:void 0,this.$refs.input.value=""},genChips:function(){var e=this;return this.isDirty?this.text.map((function(t,n){return e.$createElement(J["a"],{props:{small:e.smallChips},on:{"click:close":function(){var t=e.internalValue;t.splice(n,1),e.internalValue=t}}},[t])})):[]},genControl:function(){var e=Q["a"].options.methods.genControl.call(this);return this.hideInput&&(e.data.style=Object(Z["d"])(e.data.style,{display:"none"})),e},genInput:function(){var e=Q["a"].options.methods.genInput.call(this);return delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot:function(){var e=this;if(!this.prependIcon)return null;var t=this.genIcon("prepend",(function(){e.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText:function(){var e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections:function(){var e=this,t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(n,a){e.$scopedSlots.selection&&t.push(e.$scopedSlots.selection({text:e.text[a],file:n,index:a}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot:function(){var e=this,t=Q["a"].options.methods.genTextFieldSlot.call(this);return t.data.on=Object(W["a"])(Object(W["a"])({},t.data.on||{}),{},{click:function(){return e.$refs.input.click()}}),t},onInput:function(e){var t=Object(K["a"])(e.target.files||[]);this.internalValue=this.isMultiple?t:t[0],this.initialValue=this.internalValue},onKeyDown:function(e){this.$emit("keydown",e)},truncateText:function(e){if(e.length<Number(this.truncateLength))return e;var t=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(e.slice(0,t),"…").concat(e.slice(e.length-t))}}}),te=Object(f["a"])(H,O,F,!1,null,null,null),ne=te.exports;v()(te,{VBtn:g["a"],VCard:L["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VChip:J["a"],VContainer:b["a"],VDialog:x["a"],VFileInput:ee,VIcon:w["a"],VSpacer:S["a"]});var ae={components:{FilelistTable:k,FileUpload:ne},mixins:[l["a"],o["a"]],data:function(){return{uploadDialog:!1}},methods:{deleteFiles:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$dialog.confirm({text:"Do you really want to delete files?",title:"Warning"});case 2:n=t.sent,n&&e.$refs.filelistTable.delete();case 4:case"end":return t.stop()}}),t)})))()}}},ie=ae,re=n("ce7e"),le=Object(f["a"])(ie,a,i,!1,null,null,null);t["default"]=le.exports;v()(le,{VBtn:g["a"],VCard:L["a"],VCardText:A["b"],VCardTitle:A["c"],VContainer:b["a"],VDialog:x["a"],VDivider:re["a"],VIcon:w["a"],VSpacer:S["a"]})}}]);
//# sourceMappingURL=chunk-28715dd2.15f1a80a.js.map